---
title: "Hiking trails"
author: "Viola Nguyen, Hedidi Tsang"
date: "12 kwietnia 2019"
output: 
  html_document:
    cold_folding: hide
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Determining the trail difficulty levels at the Macleish Field Station (based on their length and change in elevation)






```{r, message= FALSE, warning=FALSE}
# Loading libraries ----
library(macleish)
library(sf)
library(raster)
library(dplyr)
library(leaflet)
library(ggplot2)
library(rgdal)
library(rgeos)
library(TTR)
```


```{r}
# Loading macleish layers ----
data("macleish_layers")
class(macleish_layers)
```


```{r}
# Trails subdataset ----
trail_points <- (macleish_layers[['trails']])
```


```{r}
# Elevation subdataset ----
elevation <- (macleish_layers[["contours_3m"]])
```


```{r}
# Western Loop subdata set ----
west_loop<-trail_points%>%
  dplyr::select(name,geometry)%>%
  filter(name=="Western Loop")
```


```{r}
# Poplar Road subdata set ----
poplar_road<-trail_points%>%
  dplyr::select(name,geometry)%>%
  filter(name=="Poplar Hill Road")
```

```{r}
# East Loop subdata set ----
east_loop<-trail_points%>%
  dplyr::select(name,geometry)%>%
  filter(name=="Eastern Loop")
```

```{r}
# Creating interactive map ----
leaflet() %>% 
  addTiles() %>%
  addPolylines(data=west_loop, color='blue', group='Hiking routes')%>%
   addPolylines(data=east_loop, color='red', group='Hiking routes')%>%
  addPolylines(data=poplar_road, color='purple', group='Hiking routes')%>%
 addMeasure(activeColor="yellow")%>%
  addProviderTiles("Thunderforest.Landscape", group = "Topographical") %>%
  addProviderTiles("Esri.WorldImagery", group = "Satellite")%>%
  
#Adding legend  
    addLegend (position = 'bottomright',opacity = 0.4, 
            colors = c('blue','red','purple'),
            labels = c('Western Loop', 'East Loop','Poplar Road'),
            title = 'Hike trails, Macleish Field')%>%

# Layers control
  addLayersControl(position = 'bottomleft',
    baseGroups = c("Topographical", "Road map", "Satellite"),
    overlayGroups = c("Hiking routes"),
    options = layersControlOptions(collapsed = FALSE))
```









